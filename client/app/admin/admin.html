<div ng-include="'components/navbar/navbar.html'"></div>

<div class="container">
  <tabset>
    <tab heading="Users">
      <p>The delete user and user index api routes are restricted to users with the 'admin' role.</p>
      <ul class="list-group">
        <li class="list-group-item" ng-repeat="user in users">
          <strong>{{user.name}}</strong><br>
          <span class="text-muted">{{user.email}}</span>
          <a ng-click="deleteUser(user)" class="trash"><span class="glyphicon glyphicon-trash pull-right"></span></a>
        </li>
      </ul>
    </tab>
    <tab heading="Products">
      <button class='btn btn-primary' ng-click='addProduct = true' >Add Product</button>
      <div ng-show='addProduct'><h3>Add New Product</h3>
        <form name = 'productForm' ng-submit='createNewProduct()'>
          <div>
            <input type = 'text' placeholder = 'Product Name' ng-model='newProduct.name'>
          </div>
          <div>
            <input type = 'text' placeholder = 'Product Description' ng-model='newProduct.description'>
          </div>
          <div>
            <span>{{newProduct.category.join(', ')}}</span>
          </div>
          <div>
            
            <select ng-model='$parent.$parent.selectedCategory'>
              <option ng-repeat='category in categories' value='{{category.name}}'>{{category.name}}
              </option>
            </select>
            <button class='btn btn-primary' type='button' ng-click="addCategory()">+</button>
          </div>
          <div>
            <ul>
              <li ng-repeat='category in newProduct.category'>{{category}}
              </li>
            </ul>
          </div>


          <div>
            <button class='btn btn-primary' type='submit'>Save</button>
            <button class='btn btn-danger' type ='button' ng-click='addProduct=false'>Cancel</button>
          </div>
          <h4>Validation: {{productForm}}</h4>
          <h4>{{newProduct}}</h4>
        </form>
      </div>

      <div>
        <ul class="list-group">
          <li class="list-group-item" ng-repeat="product in products ">
            <strong>{{product.name}}</strong><br>
            <span class="text-muted">{{product.description}} , {{product._id}}</span>
            <a ng-click="deleteProduct(product)" class="trash"><span class="glyphicon glyphicon-trash pull-right"></span></a>
          </li>
        </ul>
      </div>
    </tab>
    <tab heading="Orders">
      Orders
    </tab>
  </tabset>




</div>
